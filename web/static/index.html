<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Plotly + FastAPI Demo</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Plotly + FastAPI Demo</h1>
    <div id="plotly-div" style="width:600px; height:400px;"></div>

    <script>
        // 从后端接口拉取数据
        fetch('/api/data')
            .then(response => response.json())
            .then(data => {
                var trace = {
                    x: data.x,
                    y: data.y,
                    type: 'scatter',
                    mode: 'lines+markers',
                    marker: { color: 'blue' }
                };
                var layout = {
                    title: '简单折线图示例'
                };
                Plotly.newPlot('plotly-div', [trace], layout);
            })
            .catch(err => {
                document.getElementById('plotly-div').innerText = '加载数据失败：' + err;
            });
    </script>
</body>
</html>
